== WWWClient
== Advanced web browsing, scraping and automation
-- Author: Sébastien Pierre, XPrima
-- Date: 27-Jun-2006

About
=====

Browsing
========

Concepts
--------

    Session, transaction, request, response
    Cookies

Accessing a website
-------------------

    Initiate a session


Posting data 
------------

    There are different ways to communicate data to an HTTP server. WWWClient
    browsing API offers different ways of doing so, depending on the type of HTTP
    request you want to issue:

    1) Posting with GET and values as parameters::
       |
       >    session.get("http://www.google.com", params={"name":"value", ...)
       >    GET http://www.google.com?name=value

    2) Posting with POST and values as parameters::
       |
       >    session.post("http://www.google.com", params={"name":"value", ...)
       >    POST http://www.google.com?name=value

    3) Posting with POST and values as url-encoded data::
       |
       >    session.post("http://www.google.com", params={"name":"value", ...)
       >    POST http://www.google.com
       >    ...
       >    Content-Length: 10
       >    name=value

    4) Posting with POST and values as form-encoded data::
       |
       >    session.post("http://www.google.com", fields={"name":"value", ...)
       >    POST http://www.google.com
       >    ...
       >    Content-Length: 10
       >    name=value

    5) Posting with POST and values as custom data::
       |
       >    session.post("http://www.google.com", data="name=value")
       >    POST http://www.google.com
       >    ...
       >    Content-Length: 10
       >    name=value

Scraping
========

Analysing the structure of HTML
-------------------------------

    tree::

    levelof::

    level::


Getting to the desired data
---------------------------

    split::

    cut::

Web automation
--------------

    forms::

    links::

Removing HTML data
------------------

    expand::

    text::

Further text processing
-----------------------

    textcut::

    textlines::

Detecting changes
-----------------

    1) Specify which elements should be tracked
    2) Compute the "tag" for the set of elements

The HTMLNode object
-------------------

Tips
----

    1) Split your HTML into sections::

       Most HTML documents consist of different parts: headers, footers,
       navigation section, advertising, legal info, and actual content. It will
       be easier for you if you start by cutting and splitting your HTML
       document, getting rid of what you don't need and keeping what you are
       looking for.

    2) Get rid of HTML when you don't need structure::

       Manipulating HTML data can be difficult, especially when the document is
       not really well-formed. For instance, if you are scraping a document with
       table-formatted data, it may be complex to access the elements you need.

       In this case, it may be a better option to cut and split your HTML so
       that you have you ''sections of data'' at hand, and then convert them to
       text using `HTML.text(HTML.expand(html))`, and simply process the rest
       with the scraper module text processing tools or Python regular ones.


Text encoding support
=====================

As text data may come from various sources, some may be already encoded or not.
To ensure that proper conversion is made, the following WWWClient elements
feature an `encoding` property or argument to relevant methods that allows to
specify in which encoding the given text data is encoded. This will ensure that
the data is properly converted to raw strings before being passed to the
transport layer (provided by the Curl library).

    - Session:: encoding defines the default encoding for all the requests,
      cookies, headers, parameters, fields and provided data. Setting a session
      encoding will set every transaction, request and underlying curl handler
      encodings to the session one.

    - Form:: when filling values within a form, the values will be converted to
      string when necessary. The given encoding will tell in which encoded the
      string should be coded.

# vim: ts=4 sw=4 et
